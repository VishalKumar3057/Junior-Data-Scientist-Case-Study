<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PFM Analytics & Customer Churn Risk - Case Study Presentation</title>
    <style>
        @page {
            size: A4 landscape;
            margin: 0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
        }
        
        .slide {
            width: 297mm;
            height: 210mm;
            padding: 40px 60px;
            background: white;
            page-break-after: always;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        .slide-header {
            border-bottom: 4px solid #2563eb;
            padding-bottom: 15px;
            margin-bottom: 30px;
        }
        
        .slide-title {
            font-size: 42px;
            color: #1e40af;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .slide-subtitle {
            font-size: 24px;
            color: #64748b;
            font-weight: 400;
        }
        
        h2 {
            font-size: 36px;
            color: #1e40af;
            margin-bottom: 25px;
            font-weight: 600;
        }
        
        h3 {
            font-size: 28px;
            color: #334155;
            margin: 20px 0 15px 0;
            font-weight: 600;
        }
        
        p, li {
            font-size: 20px;
            line-height: 1.6;
            color: #334155;
            margin-bottom: 12px;
        }
        
        ul {
            margin-left: 30px;
        }
        
        .highlight {
            background: #fef3c7;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .metric-box {
            background: #eff6ff;
            border-left: 5px solid #2563eb;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
        }
        
        .metric-value {
            font-size: 48px;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 5px;
        }
        
        .metric-label {
            font-size: 20px;
            color: #64748b;
        }
        
        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        
        .feature-category {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
        }
        
        .footer {
            position: absolute;
            bottom: 20px;
            right: 60px;
            font-size: 16px;
            color: #94a3b8;
        }
        
        .title-slide {
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
        }
        
        .title-slide .slide-title {
            color: white;
            font-size: 56px;
            margin-bottom: 20px;
        }
        
        .title-slide .slide-subtitle {
            color: #dbeafe;
            font-size: 32px;
        }
        
        .key-point {
            background: #f0fdf4;
            border-left: 5px solid #22c55e;
            padding: 15px 20px;
            margin: 10px 0;
            border-radius: 6px;
        }
        
        .warning-point {
            background: #fef2f2;
            border-left: 5px solid #ef4444;
            padding: 15px 20px;
            margin: 10px 0;
            border-radius: 6px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 18px;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        
        th {
            background: #f1f5f9;
            font-weight: 600;
            color: #1e40af;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            margin-right: 8px;
        }
        
        .badge-success {
            background: #dcfce7;
            color: #166534;
        }
        
        .badge-info {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .badge-warning {
            background: #fef3c7;
            color: #92400e;
        }
    </style>
</head>
<body>

<!-- Slide 1: Title -->
<div class="slide title-slide">
    <div>
        <div class="slide-title">PFM Analytics & Customer Churn Risk</div>
        <div class="slide-subtitle">A Data-Driven Approach to Customer Retention</div>
        <p style="margin-top: 40px; font-size: 24px; color: #dbeafe;">Junior Data Scientist Case Study</p>
        <p style="margin-top: 40px; font-size: 24px; color: #dbeafe;">Vishal Kumar</p>
    </div>
</div>

<!-- Slide 2: Problem Statement & Objectives -->
<div class="slide">
    <div class="slide-header">
        <h2>Problem Statement & Objectives</h2>
    </div>

    <h3>Business Context</h3>
    <p>A digital bank wants to leverage transaction data to provide valuable <span class="highlight">Personal Financial Management (PFM)</span> insights and proactively reduce customer churn.</p>

    <h3 style="margin-top: 30px;">Project Objectives</h3>
    <div class="two-column">
        <div class="metric-box">
            <div style="font-size: 32px; font-weight: 700; color: #2563eb; margin-bottom: 10px;">1. PFM Analytics</div>
            <p style="margin: 0;">Analyze customer spending and cashflow patterns to generate actionable insights for in-app experience</p>
        </div>
        <div class="metric-box">
            <div style="font-size: 32px; font-weight: 700; color: #2563eb; margin-bottom: 10px;">2. Churn Modeling</div>
            <p style="margin: 0;">Build a baseline predictive model to identify customers at high risk of churning in the next 30 days</p>
        </div>
    </div>

    <div class="footer">Slide 2</div>
</div>

<!-- Slide 3: Data Quality & Cleaning Approach -->
<div class="slide">
    <div class="slide-header">
        <h2>Data Quality & Cleaning Approach</h2>
    </div>

    <p style="margin-bottom: 25px;">The raw dataset contained several data quality issues that were systematically resolved:</p>

    <div class="key-point">
        <strong>‚úì Normalized Timestamps:</strong> Used <code>pd.to_datetime(errors='coerce')</code> to handle mixed date formats (ISO, DD/MM/YYYY) automatically
    </div>

    <div class="key-point">
        <strong>‚úì Cleaned Financial Data:</strong> Applied <code>pd.to_numeric()</code> and <code>np.where()</code> for vectorized sign logic (debit = negative, credit = positive)
    </div>

    <div class="key-point">
        <strong>‚úì Standardized Categories:</strong> Fixed misspellings (Grocerries ‚Üí Groceries), mapped city codes (KHI ‚Üí Karachi)
    </div>

    <div class="key-point">
        <strong>‚úì Handled Duplicates:</strong> Removed exact duplicates and duplicate transaction IDs to prevent data inflation
    </div>

    <div class="key-point">
        <strong>‚úì Imputed Missing Values:</strong> Used median for numeric fields, mode for categorical fields with business justification
    </div>

    <p style="margin-top: 25px; font-style: italic; color: #64748b;">All cleaning decisions were documented with clear justifications for reproducibility and transparency.</p>

        <div class="footer">Slide 3</div>

    </div>

    

    <!-- Slide 4: Key PFM Insights -->

    <div class="slide">

        <div class="slide-header">

            <h2>Key PFM Insights</h2>

        </div>

    

    

    

        <div class="key-point" style="margin-top: 25px;">

            <strong>Insight 1: Top Spending Categories</strong>

            <ul style="margin-top: 10px;">

                                <li><strong>'Rent' dominates (~54.9M PKR)</strong>, highlighting recurring housing payments.</li>

                                <li><strong>'Utilities' (~31.2M PKR) and 'TransferOut' (~11.9M PKR) are next</strong>, indicating essential bills and P2P transfers.</li>

                                <li><strong>'Groceries' (~8.8M PKR) ranks #5</strong>, showing usage for daily necessities.</li>

            </ul>

            <p style="margin-top: 10px; font-size: 18px; color: #64748b;">‚Üí Focus on solutions for essential recurring payments.</p>

        </div>

    

        <div class="two-column" style="margin-top: 25px;">

            <div>

                <div class="key-point">

                    <strong>Insight 2: Segment-Specific Spending</strong>

                    <ul style="margin-top: 10px;">

                        <li><strong>Affluent:</strong> Dominant proportion on Rent (~58%).</li>

                        <li><strong>Retail:</strong> Balanced spending, significant Rent (~45%) and Utilities (~30%).</li>

                        <li><strong>Students:</strong> Lowest Rent (~25%), highest Utilities (~35%) and TransferOut (~16%).</li>

                    </ul>

                    <p style="margin-top: 10px; font-size: 18px; color: #64748b;">‚Üí Enables highly personalized product & marketing strategies.</p>

                </div>

            </div>

            <div>

                <div class="key-point">

                    <strong>Insight 3: Transaction Activity Patterns</strong>

                    <ul style="margin-top: 10px;">

                                            <li>Peak activity: <strong>Weekday afternoons (10 AM - 6 PM)</strong>, aligning with work breaks or commute times.</li>

                                            <li>Weekend activity significantly lower, indicating platform usage for routine transactions.</li>

                    </ul>

                    <p style="margin-top: 10px; font-size: 18px; color: #64748b;">‚Üí Optimal timing for notifications & campaigns</p>

                </div>

            </div>

        </div>

    

        <div class="metric-box" style="margin-top: 20px;">

            <strong>Recurring Payments Detected:</strong> Successfully identified monthly recurring patterns (rent, utilities, subscriptions) using 27-33 day window heuristic

        </div>

    

        <div class="footer">Slide 4</div>

    </div>

    

    <!-- Slide 5: Feature Engineering Strategy -->
<div class="slide">
    <div class="slide-header">
        <h2>Feature Engineering Strategy</h2>
    </div>

    <p style="margin-bottom: 20px;">Transformed raw transaction logs into rich customer-level features capturing behavioral patterns:</p>

    <div class="feature-category">
        <h3 style="margin: 0 0 15px 0; color: #2563eb;">üí∞ Monetary Features</h3>
        <p style="margin: 0;"><strong>Purpose:</strong> Capture the <em>value</em> and <em>scale</em> of financial activity</p>
        <ul style="margin-top: 10px;">
            <li>Total inflow, avg transaction amount, spending variability (std)</li>
            <li>Avg debit/credit amounts using <code>lambda</code> functions</li>
        </ul>
    </div>

    <div class="two-column" style="margin-top: 20px;">
        <div class="feature-category">
            <h3 style="margin: 0 0 15px 0; color: #2563eb;">üìä Frequency Features</h3>
            <p style="margin: 0;"><strong>Purpose:</strong> Capture <em>activity level</em> and <em>engagement</em></p>
            <ul style="margin-top: 10px;">
                <li>Transaction count</li>
                <li><strong>Days since last transaction</strong> (RFM recency - strongest churn predictor)</li>
            </ul>
        </div>
        <div class="feature-category">
            <h3 style="margin: 0 0 15px 0; color: #2563eb;">üéØ Behavioral Features</h3>
            <p style="margin: 0;"><strong>Purpose:</strong> Capture <em>habits</em> and <em>lifestyle</em></p>
            <ul style="margin-top: 10px;">
                <li>Essential spend share (groceries, utilities)</li>
                <li>Bill payments count, unique merchants</li>
            </ul>
        </div>
    </div>

    <div class="key-point" style="margin-top: 20px;">
        <strong>Normalization:</strong> Used <span class="highlight">StandardScaler</span> (z-score) instead of MinMaxScaler because it handles outliers better and ensures regularization works properly for Logistic Regression
    </div>

    <div class="footer">Slide 5</div>
</div>



<!-- Slide 6a: Model Evaluation - Confusion Matrix -->
<div class="slide">
    <div class="slide-header">
        <h2>Model Evaluation: Confusion Matrix</h2>
    </div>

    <p style="margin-bottom: 25px;">The confusion matrix provides a detailed breakdown of the model's predictions versus the actual outcomes on the test set.</p>

    <div style="display: flex; justify-content: center; align-items: center; flex-direction: column; margin-top: 20px;">
        <h3 style="margin-bottom: 20px;">Confusion Matrix (Test Set, Threshold=0.5)</h3>
        <table style="width: 70%; font-size: 20px; text-align: center;">
            <thead>
                <tr>
                    <th style="width: 33%;"></th>
                    <th style="background: #eff6ff; color: #1e40af; border: 1px solid #e2e8f0;" colspan="2">Predicted</th>
                </tr>
                <tr>
                    <th style="width: 33%;"></th>
                    <th style="background: #f1f5f9; border: 1px solid #e2e8f0;">Not Churn</th>
                    <th style="background: #f1f5f9; border: 1px solid #e2e8f0;">Churn</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td rowspan="2" style="font-weight: 600; background: #eff6ff; color: #1e40af; border: 1px solid #e2e8f0; writing-mode: vertical-rl; transform: rotate(180deg);">Actual</td>
                    <td style="background: #dcfce7; color: #166534; font-weight: 700; font-size: 24px; border: 1px solid #e2e8f0;">35 (TN)</td>
                    <td style="background: #fef9c3; color: #92400e; font-weight: 700; font-size: 24px; border: 1px solid #e2e8f0;">31 (FP)</td>
                </tr>
                <tr>
                    <td style="background: #fee2e2; color: #991b1b; font-weight: 700; font-size: 24px; border: 1px solid #e2e8f0;">8 (FN)</td>
                    <td style="background: #dcfce7; color: #166534; font-weight: 700; font-size: 24px; border: 1px solid #e2e8f0;">6 (TP)</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="key-point" style="margin-top: 30px;">
        <strong>What it shows:</strong> A 2√ó2 matrix comparing actual churn status vs. model predictions. Each cell shows the count of customers.
    </div>

    <div class="key-point">
        <strong>How to read it:</strong>
        <ul style="margin-top: 10px;">
            <li><strong>True Negative (TN, top-left):</strong> Correctly predicted non-churners ‚úÖ</li>
            <li><strong>False Positive (FP, top-right):</strong> Non-churners incorrectly flagged as at-risk ‚ö†Ô∏è</li>
            <li><strong>False Negative (FN, bottom-left):</strong> Missed churners ‚Äî the WORST outcome ‚ùå</li>
            <li><strong>True Positive (TP, bottom-right):</strong> Correctly caught churners ‚úÖ</li>
        </ul>
    </div>

    <div class="warning-point" style="margin-top: 30px;">
        <strong>Key Insight:</strong> For churn prediction, FN (missed churners) is 10-500x more costly than FP (false alarms). Therefore, we prioritize <strong>Recall</strong> (catching churners) over Precision.
    </div>

    <div class="metric-box" style="margin-top: 30px; border-left-color: #2563eb;">
        <h3 style="margin-top: 0; color: #1e40af;">Key Metrics (from this model's performance):</h3>
        <p style="margin: 0;">Based on the Confusion Matrix above:</p>
        <ul style="margin-top: 10px;">
            <li><strong>True Positives (TP):</strong> 6 (Churners correctly identified)</li>
            <li><strong>False Negatives (FN):</strong> 8 (Actual churners missed by the model)</li>
            <li><strong>False Positives (FP):</strong> 31 (Non-churners incorrectly flagged as churn)</li>
            <li><strong>True Negatives (TN):</strong> 35 (Non-churners correctly identified)</li>
        </ul>
        <p style="margin-top: 15px;">Calculating key metrics for the churn class (class 1):</p>
        <ul style="margin-top: 10px;">
            <li><strong>Recall</strong> = TP / (TP + FN) = 6 / (6 + 8) = 6 / 14 ‚âà 0.43 (43% of actual churners caught)</li>
            <li style="color: #64748b; font-size: 16px;"><em>Our business priority is to achieve a higher recall (e.g., ~70%) given the high cost of missed churners.</em></li>
            <li><strong>Precision</strong> = TP / (TP + FP) = 6 / (6 + 31) = 6 / 37 ‚âà 0.16 (16% of predicted churners actually churned)</li>
            <li><strong>F1-Score</strong> = 2 * (Precision * Recall) / (Precision + Recall)</li>
        </ul>
    </div>

    <div class="footer">Slide 6a</div>
</div>

<!-- Slide 6b: Model Evaluation - Threshold Tuning -->
<div class="slide">
    <div class="slide-header">
        <h2>Model Evaluation: Threshold Tuning</h2>
    </div>

    <p style="margin-bottom: 25px;">The default 0.5 classification threshold is not optimal for this problem. We use a <strong>Precision-Recall Curve</strong> to find a threshold that balances business needs.</p>

    <div class="key-point" style="margin-top: 25px;">
        <strong>What it shows:</strong> How Precision and Recall change as we adjust the classification threshold, revealing the fundamental trade-off between catching more churners vs. reducing false alarms.
    </div>

    <div class="key-point">
        <strong>How to read it:</strong>
        <ul style="margin-top: 10px;">
            <li><strong>X-axis:</strong> Probability threshold (0.0 to 1.0)</li>
            <li><strong>Blue line:</strong> Precision (% of predicted churners who actually churned)</li>
            <li><strong>Green line:</strong> Recall (% of actual churners we caught)</li>
            <li>As threshold ‚Üì: Recall ‚Üë but Precision ‚Üì (catch more churners, more false alarms)</li>
            <li>As threshold ‚Üë: Recall ‚Üì but Precision ‚Üë (fewer false alarms, miss more churners)</li>
        </ul>
    </div>

    <div class="metric-box" style="margin-top: 30px; border-left-color: #22c55e;">
        <h3 style="margin-top: 0; color: #1e40af;">Optimal Threshold Selection (0.42)</h3>
        <p style="margin-bottom: 10px;">Based on the Precision-Recall curve and business context, a threshold of 0.42 is chosen. At this threshold:</p>
        <ul style="margin-left: 20px;">
            <li style="color: #166534;"><strong>Recall ‚âà 71%:</strong> The model successfully identifies approximately 71% of actual churners.</li>
            <li style="color: #991b1b;"><strong>Precision ‚âà 18%:</strong> Of all customers flagged as potential churners, about 18% actually churn.</li>
        </ul>
        <p style="font-weight: 600; margin-top: 15px;">Business rationale: Given that the cost of a missed churner ($500-5,000) significantly outweighs the cost of a false alarm ($10-50), prioritizing <strong>Recall</strong> is crucial for an effective retention strategy. This threshold balances capturing a high percentage of churners with an acceptable level of false positives.</p>
    </div>

    <div class="footer">Slide 6b</div>
</div>

<!-- Slide 7: Key Churn Drivers -->
<div class="slide">
    <div class="slide-header">
        <h2>Key Churn Drivers</h2>
    </div>

    <p style="margin-bottom: 25px;">Feature importance analysis reveals what drives customer churn, with a focus on segment and transaction behavior:</p>

    <div class="warning-point">
        <div style="font-size: 28px; font-weight: 700; color: #dc2626; margin-bottom: 10px;">üî¥ #1 Predictor: Customer Segment (Student)</div>
        <p style="margin: 0; font-size: 20px;">The <strong>'Student' segment</strong> is the most impactful feature, strongly influencing churn prediction, indicating unique behavioral patterns in this group.</p>
    </div>

    <div class="two-column" style="margin-top: 25px;">
        <div>
            <div class="key-point">
                <strong>2. Customer Segment (Retail)</strong>
                <p style="margin: 5px 0 0 0; font-size: 18px;">The <strong>'Retail' segment</strong> is also highly influential, though to a lesser extent than students.</p>
            </div>
            <div class="key-point" style="margin-top: 15px;">
                <strong>3. Average Transaction Amount</strong>
                <p style="margin: 5px 0 0 0; font-size: 18px;">The typical transaction size plays a significant role in churn prediction.</p>
            </div>
        </div>
        <div>
            <div class="key-point">
                <strong>4. City (Unknown)</strong>
                <p style="margin: 5px 0 0 0; font-size: 18px;">Customers with an unknown city are a strong indicator of churn, potentially highlighting data quality issues or specific behaviors.</p>
            </div>
            <div class="key-point" style="margin-top: 15px;">
                <strong>5. Average Debit Amount</strong>
                <p style="margin: 5px 0 0 0; font-size: 18px;">The average amount of money spent (debit) significantly impacts churn risk.</p>
            </div>
        </div>
    </div>

    <div class="metric-box" style="margin-top: 25px; background: #fffbeb; border-left-color: #f59e0b;">
        <strong>Business Insight:</strong> Tailor retention strategies based on customer segments and their typical transaction behaviors. Address data quality for 'Unknown' city customers.
    </div>

    <div class="footer">Slide 7</div>
</div>

<!-- Slide 7a: Churn Drivers - Feature Importance -->
<div class="slide">
    <div class="slide-header">
        <h2>Churn Drivers: Feature Importance</h2>
    </div>

    <p style="margin-bottom: 20px;">By inspecting the model's coefficients, we can rank features by their absolute impact on churn prediction. A larger absolute value means a stronger influence.</p>

    <div style="margin-top: 20px;">
        <h3 style="margin-top: 0; color: #1e40af;">Top 15 Most Influential Churn Features (Ranked by Absolute Impact)</h3>
        <ol style="margin-left: 25px; font-size: 18px;">
            <li><strong>segment_Student</strong></li>
            <li><strong>segment_Retail</strong></li>
            <li><strong>avg_txn_amount</strong></li>
            <li><strong>city_Unknown</strong></li>
            <li><strong>avg_debit_amount</strong></li>
            <li>max_credit</li>
            <li>total_inflow</li>
            <li>city_Islamabad</li>
            <li>unique_merchants_count</li>
            <li>debit_txn_count</li>
            <li>avg_credit_amount</li>
            <li>txn_count</li>
            <li>city_Hyderabad</li>
            <li>city_Rawalpindi</li>
            <li>city_Multan</li>
        </ol>
    </div>

    <div class="key-point" style="margin-top: 25px;">
        <strong>Key Takeaway:</strong> Customer segment and various transaction characteristics (average amount, total inflow, debit amount, unique merchants, total count) are the primary drivers of churn. Missing city data (`city_Unknown`) is also a significant indicator.
    </div>
    
    <div class="footer">Slide 7a</div>
</div>



<!-- Slide 8: Recommendations & Next Steps -->
<div class="slide">
    <div class="slide-header">
        <h2>Recommendations & Next Steps</h2>
    </div>

    <h3>üéØ Business Recommendations</h3>

    <div class="key-point">
        <strong>1. Deploy Churn Model (Threshold = 0.42)</strong>
        <ul style="margin-top: 10px;">
            <li>Identify at-risk customers weekly</li>
            <li>Target with retention campaigns (special offers, feedback surveys)</li>
            <li>Expected impact: Catch 70% of churners before they leave</li>
        </ul>
    </div>

    <div class="key-point">
        <strong>2. Enhance PFM App Features</strong>
        <ul style="margin-top: 10px;">
            <li>Add "Financial Health" dashboard showing net cashflow trends</li>
            <li>Provide segment-specific spending insights and budgeting tips</li>
            <li>Alert customers with negative cashflow about financial wellness tools</li>
        </ul>
    </div>

    <div class="key-point">
        <strong>3. Tailor Retention Strategies based on New Churn Drivers</strong>
        <ul style="margin-top: 10px;">
            <li>Develop specialized retention campaigns for the 'Student' and 'Retail' segments, considering their unique behavioral patterns.</li>
            <li>Investigate the 'city_Unknown' factor to resolve data quality issues or understand the underlying churn behavior.</li>
            <li>Analyze transaction amount patterns (average, debit) to identify thresholds for early intervention.</li>
        </ul>
    </div>





    <div class="footer">Slide 8</div>
</div>

</body>
</html>

